---
layout: post
title: Splitting an Image into smaller chunks in Android
date: '2012-05-30T04:37:00.000-07:00'
author: Chandra Sekhar Nayak
tags:
- Bitmap
- Image Processing
- Android
modified_time: '2014-08-17T02:04:12.586-07:00'
thumbnail: http://2.bp.blogspot.com/-wvgRGK6u_3E/T8X6NnntXDI/AAAAAAAAARk/okxWYO_6Scc/s72-c/screen1.png
blogger_id: tag:blogger.com,1999:blog-5265809569150335007.post-3301320741635785560
blogger_orig_url: http://www.chansek.com/2012/05/splittingdividing-image-into-smaller.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><div dir="ltr" style="text-align: left;" trbidi="on"><h1><span style="font-size: large;">Where We Need This?</span></h1><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; In a device like SmartPhone, we know that memory management is a serious issue. So in these kind of platforms, if we want to send images to network, we may need to divide the source image into number of small chunks and then send them one by one. This concept also helps us developing a puzzle like application.</div><h3>                   <span style="font-size: large;"><br /></span></h3><h3>                                    <span style="font-size: large;">How To Achieve This?</span></h3><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Well there are many ways to achieve this, but I prefer&nbsp;<a href="http://developer.android.com/reference/android/graphics/Bitmap.html"><b><span style="font-size: large;">Bitmap API</span></b></a>&nbsp;the most to achieve this. You can get more information about bitmaps&nbsp;<a href="http://developer.android.com/guide/topics/resources/drawable-resource.html"><b><span style="font-size: large;">from here</span>.</b></a><br /><br /></div></div><h3 style="text-align: left;">                   <span style="font-size: large;"> Source Code:</span></h3><div><span style="font-size: large;"><br /></span></div><div style="text-align: left;">The below code snippet shows how to split/divide an image into number of smaller chunks/pieces.</div><div><span style="font-size: large;"><br /></span></div><pre class="brush:java;">package com.android.imagesplitter;<br /><br />import java.util.ArrayList;<br />import android.app.Activity;<br />import android.content.Intent;<br />import android.graphics.Bitmap;<br />import android.graphics.drawable.BitmapDrawable;<br />import android.os.Bundle;<br />import android.view.View;<br />import android.view.View.OnClickListener;<br />import android.widget.Button;<br />import android.widget.ImageView;<br /><br />public class ImageActivity extends Activity implements OnClickListener {<br /><br />    @Override<br />    public void onCreate(Bundle savedInstanceState) {<br />        super.onCreate(savedInstanceState);<br />        setContentView(R.layout.main);<br /><br />        Button b1 = (Button) findViewById(R.id.three);<br />        Button b2 = (Button) findViewById(R.id.four);<br />        Button b3 = (Button) findViewById(R.id.five);<br />        b1.setOnClickListener(this);<br />        b2.setOnClickListener(this);<br />        b3.setOnClickListener(this);<br />    }<br /><br />    @Override<br />    public void onClick(View view) {<br />        int chunkNumbers = 0;<br />        switch (view.getId()) {<br />        case R.id.three:<br />            chunkNumbers = 9;<br />            break;<br />        case R.id.four:<br />            chunkNumbers = 16;<br />            break;<br />        case R.id.five:<br />            chunkNumbers = 25;<br />        }<br /><br />        //Getting the source image to split<br />        ImageView image = (ImageView) findViewById(R.id.source_image);<br /><br />        //invoking method to split the source image<br />        splitImage(image, chunkNumbers);<br />    }<br /><br />    private void splitImage(ImageView image, int chunkNumbers) {<br /><br />        //For the number of rows and columns of the grid to be displayed<br />        int rows,cols;<br /><br />        //For height and width of the small image chunks<br />        int chunkHeight,chunkWidth;<br /><br />        //To store all the small image chunks in bitmap format in this list<br />        ArrayList&lt;Bitmap&gt; chunkedImages = new ArrayList&lt;Bitmap&gt;(chunkNumbers);<br /><br />        //Getting the scaled bitmap of the source image<br />        BitmapDrawable drawable = (BitmapDrawable) image.getDrawable();<br />        Bitmap bitmap = drawable.getBitmap();<br />        Bitmap scaledBitmap = Bitmap.createScaledBitmap(bitmap, bitmap.getWidth(), bitmap.getHeight(), true);<br />        rows = cols = (int) Math.sqrt(chunkNumbers);<br />        chunkHeight = bitmap.getHeight() / rows;<br />        chunkWidth = bitmap.getWidth() / cols;<br /><br />        //xCoord and yCoord are the pixel positions of the image chunks<br />        int yCoord = 0;<br />        for(int x = 0; x < rows; x++) {<br />            int xCoord = 0;<br />            for(int y = 0; y < cols; y++) {<br />                chunkedImages.add(Bitmap.createBitmap(scaledBitmap, xCoord, yCoord, chunkWidth, chunkHeight));<br />                xCoord += chunkWidth;<br />            }<br />            yCoord += chunkHeight;<br />        }<br /><br />        /* Now the chunkedImages has all the small image chunks in the form of Bitmap class.<br />         * You can do what ever you want with this chunkedImages as per your requirement.<br />         * I pass it to a new Activity to show all small chunks in a grid for demo.<br />         * You can get the source code of this activity from my Google Drive Account.<br />         */<br />        //Start a new activity to show these chunks into a grid<br />        Intent intent = new Intent(ImageActivity.this, ChunkedImageActivity.class);<br />        intent.putParcelableArrayListExtra("image chunks", chunkedImages);<br />        startActivity(intent);<br />    }<br />} </pre><br /><br /><br />The above class has splitImage method which takes two arguments:<br /><ol style="text-align: left;"><li>ImageView: The source image to split.</li><li>int: The number of smaller chunks to be formed from the source image.</li></ol><h3 style="text-align: left;">       <span style="font-size: large;">Reference:</span></h3><div><span style="font-size: large;"><br /></span></div><div>You can find the complete source of this application from <b><span style="font-size: large;"><a href="https://docs.google.com/open?id=0B0hpxZPa41T8OXNjU0FpdGJCb0U" rel="nofollow" target="_blank">My Google Drive Account</a>.</span></b><br />If you want the same in Java using&nbsp;<a href="http://docs.oracle.com/javase/1.4.2/docs/api/javax/imageio/ImageIO.html" rel="nofollow" target="_blank">ImageIO</a>, then you can&nbsp;<a href="http://kalanir.blogspot.in/2010/02/how-to-split-image-into-chunks-java.html" rel="nofollow" target="_blank">see this</a></div><div><h3 style="text-align: left;">    <span style="font-size: large;"><br /></span></h3><h3 style="text-align: left;">                   <span style="font-size: large;">You May Also Like:</span></h3><div><span style="font-size: large;"><a href="http://androidattop.blogspot.in/2012/06/merge-multiple-images-into-one-image-in.html">Merge smaller images into one larger image in Android</a></span><br /><br /></div><h3 style="text-align: left;">                    <span style="font-size: large;">Screen Shots:</span></h3></div><span style="font-size: large;"><br /></span><div><b></b><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="float: left; margin-right: 1em; text-align: left;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-wvgRGK6u_3E/T8X6NnntXDI/AAAAAAAAARk/okxWYO_6Scc/s1600/screen1.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img alt="Image Before Split" border="0" src="http://2.bp.blogspot.com/-wvgRGK6u_3E/T8X6NnntXDI/AAAAAAAAARk/okxWYO_6Scc/s320/screen1.png" height="320" title="Source Image" width="212" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;"><h3>                         Before Split</h3></td></tr></tbody></table><table cellpadding="0" cellspacing="0" class="tr-caption-container" style="float: right; margin-left: 1em; text-align: left;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-db-q6UiaeIA/T8X7AQVs2fI/AAAAAAAAARs/hh8zwL6IGZI/s1600/screen2.png" imageanchor="1" style="clear: right; margin-bottom: 1em; margin-left: auto; margin-right: auto;"><img alt="Image After Split" border="0" src="http://2.bp.blogspot.com/-db-q6UiaeIA/T8X7AQVs2fI/AAAAAAAAARs/hh8zwL6IGZI/s320/screen2.png" height="320" title="Result Image" width="212" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;"><h3>                         After Split</h3></td></tr></tbody></table><br /><b></b></div></div>